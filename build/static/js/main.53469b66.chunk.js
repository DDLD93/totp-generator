(this.webpackJsonpoauth=this.webpackJsonpoauth||[]).push([[0],{158:function(e,t,n){},184:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=(n(158),n(38)),o=n.n(r),i=n(16),s=n(114),l=(n(162),s.a.initializeApp({apiKey:"AIzaSyBHUfko63cc9WPw6a11rhAf5Dt1gYkFto0",authDomain:"ddld93.firebaseapp.com",databaseURL:"https://ddld93-default-rtdb.europe-west1.firebasedatabase.app",projectId:"ddld93",storageBucket:"ddld93.appspot.com",messagingSenderId:"772087817009",appId:"1:772087817009:web:7449bf2d838ae2acbf0610"}),s.a),j=n(3),d=Object(a.createContext)();function u(e){var t=e.children,n=Object(a.useState)([]),c=Object(i.a)(n,2),r=c[0],o=c[1],s=Object(a.useState)(null),u=Object(i.a)(s,2),b=u[0],h=u[1],x=Object(a.useState)(!0),O=Object(i.a)(x,2),p=O[0],f=O[1];Object(a.useEffect)((function(){setInterval((function(){g()}),3e4),b&&m().then((function(e){o(e.data)})).catch((function(e){return console.log(e)}))}),[b]);var m=l.functions().httpsCallable("getdata");l.auth().onAuthStateChanged((function(e){h(!!e)}));function g(){console.log("getting data from firestore"),b&&m().then((function(e){o(e.data)})).catch((function(e){return console.log(e)}))}var v={signIn:p,user:r,authReady:b,firebaseCall:g,createUser:function(e,t){l.auth().createUserWithEmailAndPassword(e,t).then((function(e){console.log("New user registered")})).catch((function(e){}))},login:function(e,t){console.log("context"),l.auth().signInWithEmailAndPassword(e,t).then((function(e){h(!!e),console.log("logged in",e)})).catch((function(e){console.log(e)}))},logout:function(){l.auth().signOut().then((function(){h(!1),o([])}))},swap:function(){return f(!p)}};return Object(j.jsx)(d.Provider,{value:v,children:t})}var b=function(){return Object(j.jsx)("div",{children:Object(j.jsxs)("svg",{width:"75px",height:"75px",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(j.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6 31C6 37.0751 10.9249 42 17 42H46C52.6274 42 58 36.6274 58 30C58 23.3726 52.6274 18 46 18C45.8846 18 45.7696 18.0016 45.655 18.0049C43.4091 13.2723 38.5867 10 33 10C26.5543 10 21.1259 14.3561 19.4983 20.2849C18.6956 20.0985 17.8593 20 17 20C10.9249 20 6 24.9249 6 31Z",fill:"#0F277F"}),Object(j.jsx)("path",{d:"M19 33C19 31.3431 20.3431 30 22 30H42C43.6569 30 45 31.3431 45 33V41C45 48.1797 39.1797 54 32 54C24.8203 54 19 48.1797 19 41V33Z",fill:"#FDAFA4"}),Object(j.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M21.5012 48.668L26.0658 30H30.0658L24.7391 51.7849C23.4878 50.9408 22.3913 49.8847 21.5012 48.668ZM28.3262 53.4736C27.6947 53.2879 27.0832 53.0556 26.4956 52.7806L32.0658 30H34.0658L28.3262 53.4736Z",fill:"white"}),Object(j.jsx)("path",{d:"M38 26C38 24.4087 37.3679 22.8826 36.2426 21.7574C35.1174 20.6321 33.5913 20 32 20C30.4087 20 28.8826 20.6321 27.7574 21.7574C26.6321 22.8826 26 24.4087 26 26",stroke:"#FDAFA4","stroke-width":"3","stroke-linecap":"round"}),Object(j.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M33.803 42.2122C33.6994 41.7976 33.8838 41.3735 34.1777 41.0634C34.6874 40.5257 35 39.7993 35 39C35 37.3431 33.6569 36 32 36C30.3431 36 29 37.3431 29 39C29 39.7993 29.3126 40.5257 29.8223 41.0634C30.1162 41.3735 30.3006 41.7976 30.197 42.2121L29.3106 45.7575C29.1528 46.3886 29.6302 47 30.2808 47H33.7192C34.3698 47 34.8472 46.3886 34.6894 45.7575L33.803 42.2122Z",fill:"#0F277F"})]})})},h=n(242),x=Object(h.a)({root:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"}});var O=function(){var e=x();return Object(j.jsx)("div",{className:e.root,children:Object(j.jsx)(b,{})})},p=n(67),f=n(26),m=n(136),g=n(71),v=n(244),C=Object(h.a)((function(e){return{root:{display:"flex",justifyContent:"flex-end","& > * + *":{marginLeft:e.spacing(2)}}}}));function y(){var e=C(),t=c.a.useState(0),n=Object(i.a)(t,2),a=n[0],r=n[1],o=a>85?"red":"blue";return c.a.useEffect((function(){var e=setInterval((function(){r((function(e){return e>=100?0:e+.83333333333}))}),250);return function(){clearInterval(e)}}),[]),Object(j.jsx)("div",{className:e.root,children:Object(j.jsx)(v.a,{style:{color:o},size:"27px",thickness:21,variant:"determinate",value:a})})}var w=n(134),k=n.n(w),S=n(140),D=Object(h.a)({root:{maxWidth:"250px",border:"1px solid rgba(0,0,0,0.5)",boxShadow:"1px 1px 1px 1px #888888;"},body:{padding:"0.7rem"},title:{fontSize:"25px",marginBottom:"0.50rem",fontWeight:"800px",letterSpacing:"1px"},subtitle:{fontSize:"15px"},token:{letterSpacing:"7px"},progress:{position:"absolute",color:"red",backgroundColor:"red"}});var A=function(e){var t=D(),n=Object(a.useState)("none"),c=Object(i.a)(n,2),r=c[0],o=c[1];return Object(j.jsx)(g.a,{className:t.root,variant:"outlined",onClick:function(e){e.target.classList.contains("token")&&(navigator.clipboard.writeText(e.target.innerText),o("inline"),setTimeout((function(){return o("none")}),2e3))},children:Object(j.jsxs)(g.a.Body,{className:t.body,children:[Object(j.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(j.jsxs)(g.a.Title,{className:t.title,children:[e.title," ",Object(j.jsx)(S.a,{style:{display:r},className:"alert",variant:"success",children:"copied"})]}),Object(j.jsx)(k.a,{})]}),Object(j.jsx)(g.a.Subtitle,{className:t.subtitle,children:e.user}),Object(j.jsxs)(g.a.Text,{className:"token",children:[e.token," ",Object(j.jsx)(y,{})]})]})})},F=n(48),T=n(70),I=n(84),L=n(122),W=n(135),N=n.n(W),U=n(119);var E=function(){var e=Object(a.useContext)(d).firebaseCall,t=Object(a.useState)(!1),n=Object(i.a)(t,2),c=n[0],r=n[1],o=Object(a.useState)(" "),s=Object(i.a)(o,2),l=s[0],u=s[1],b=function(){if(void 0!==l.user&&void 0!==l.product&&void 0!==l.key){var t=L.a.functions().httpsCallable("addProduct");console.log(l),t(l).then((function(t){L.a.functions().httpsCallable("getdata"),r(!1),console.log("data added"),e()}))}else alert("all fields are required")};function h(e){"Product"===e.target.placeholder&&(u((function(t){return Object(F.a)(Object(F.a)({},t),{},{product:e.target.value})})),console.log(e.target.placeholder)),"username"===e.target.placeholder&&(u((function(t){return Object(F.a)(Object(F.a)({},t),{},{user:e.target.value})})),console.log(e.target.placeholder)),"Security Keys"===e.target.placeholder&&(u((function(t){return Object(F.a)(Object(F.a)({},t),{},{key:e.target.value})})),console.log(e.target.placeholder)),console.log(l)}return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(N.a,{style:{marginRight:"200px"},id:"button",color:"secondary",variant:"primary",onClick:function(){return r(!0)}}),Object(j.jsxs)(T.a,{show:c,onHide:b,backdrop:"static",keyboard:!0,children:[Object(j.jsx)(T.a.Header,{closeButton:!0,children:Object(j.jsx)(T.a.Title,{children:"Add Key"})}),Object(j.jsx)(T.a.Body,{children:Object(j.jsxs)(I.a.Group,{children:[Object(j.jsx)(I.a.Control,{onChange:h,type:"text",placeholder:"Product"}),Object(j.jsx)("br",{}),Object(j.jsx)(I.a.Control,{onChange:h,type:"text",placeholder:"username"}),Object(j.jsx)("br",{}),Object(j.jsx)(I.a.Control,{onChange:h,type:"text",placeholder:"Security Keys"})]})}),Object(j.jsxs)(T.a.Footer,{children:[Object(j.jsx)(U.a,{variant:"secondary",onClick:function(){return r(!1)},children:"Close"}),Object(j.jsx)(U.a,{variant:"primary",onClick:b,children:"Set"})]})]})]})},P=Object(h.a)({root:{display:"flex",flexDirection:"column",gap:"8px"}});function B(e){e.tokens;var t=P(),n=Object(a.useContext)(d).user;return Object(j.jsxs)(m.a,{className:t.root,style:{position:"relative",zIndex:"1",paddingTop:"90px"},children:[n.map((function(e){return Object(j.jsx)(A,{title:e.product,user:e.user,token:e.token},e.key)})),Object(j.jsx)(E,{className:"pop"})]})}function H(){return Object(j.jsxs)("div",{style:{padding:"60px"},children:[Object(j.jsxs)("p",{children:[" ",Object(j.jsx)("b",{children:"Description:"})," ",Object(j.jsx)("em",{children:"This app generate a 30sec TOTP token "})]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"Security:"})," ",Object(j.jsx)("em",{children:"Security key provided by the user the key is stored at backend (firebase firestore)security key is never transported to client side(frontEnd) token are generated in cloud function which are only communicated back to client if request carry the corresponding Firebase AUTH UUID, "})]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"Technologies:"})," HTML CSS React Material-UI Firebase(Auth,Firetore and Cloud functions) ",Object(j.jsx)("br",{})," ",Object(j.jsx)("a",{href:"https://www.npmjs.com/package/totp-generator",children:"Bellstrand/ npm totp-generator"}),"  "]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"Author: "}),"Umar Adamu Jere"]}),Object(j.jsx)("a",{href:"https://twitter.com/0mar_jay",children:"Twitter"})," ",Object(j.jsx)("br",{}),Object(j.jsx)("a",{href:"https://github.com/DDLD93",children:"Github"})]})}var z=n(265),M=n(252),R=n(253),q=n(264),G=n(255),Z=n(259),K=n(263),V=n(261),J=n(260),Y=n(262);function _(e){return Object(j.jsxs)(J.a,Object(F.a)(Object(F.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(j.jsx)(V.a,{color:"inherit",href:"https://github.com/DDLD93/",children:"Github"})," ",(new Date).getFullYear(),"."]}))}var Q=function(){var e=Object(a.useContext)(d).signIn;return Object(j.jsx)("div",{children:e?Object(j.jsx)(X,{}):Object(j.jsx)($,{})})};function X(){var e=c.a.useState(!0),t=Object(i.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(""),s=Object(i.a)(o,2),l=s[0],u=s[1],h=Object(a.useState)(""),x=Object(i.a)(h,2),O=x[0],p=x[1],f=Object(a.useContext)(d),m=f.login,g=f.swap;return Object(a.useEffect)((function(){l.length>=6&&O.length>=6?r(!1):r(!0)}),[l,O]),Object(j.jsxs)(Y.a,{component:"main",maxWidth:"xs",children:[Object(j.jsx)(M.a,{}),Object(j.jsxs)(K.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(j.jsx)(b,{}),Object(j.jsx)(J.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(j.jsxs)(K.a,{component:"form",onSubmit:function(e){r(!0),e.preventDefault();var t=new FormData(e.currentTarget);m(t.get("email"),t.get("password"))},noValidate:!0,sx:{mt:1},children:[Object(j.jsx)(R.a,{onChange:function(e){return u(e.target.value)},margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),Object(j.jsx)(R.a,{onChange:function(e){return p(e.target.value)},margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(j.jsx)(q.a,{control:Object(j.jsx)(G.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(j.jsx)(z.a,{type:"submit",fullWidth:!0,disabled:n,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),Object(j.jsxs)(Z.a,{container:!0,children:[Object(j.jsx)(Z.a,{item:!0,xs:!0,children:Object(j.jsx)(V.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(j.jsx)(Z.a,{item:!0,children:Object(j.jsx)(V.a,{onClick:g,variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]}),Object(j.jsx)(_,{sx:{mt:8,mb:4}})]})}function $(){var e=c.a.useState(!0),t=Object(i.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(""),s=Object(i.a)(o,2),l=s[0],u=s[1],h=Object(a.useState)(""),x=Object(i.a)(h,2),O=x[0],p=x[1],f=Object(a.useContext)(d),m=f.createUser,g=f.swap;return Object(a.useEffect)((function(){l.length>=6&&O.length>=6?r(!1):r(!0)}),[l,O]),Object(j.jsxs)(Y.a,{component:"main",maxWidth:"xs",children:[Object(j.jsx)(M.a,{}),Object(j.jsxs)(K.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(j.jsx)(b,{}),Object(j.jsx)(J.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(j.jsxs)(K.a,{component:"form",noValidate:!0,onSubmit:function(e){e.preventDefault();var t=new FormData(e.currentTarget);m(t.get("email"),t.get("password"))},sx:{mt:3},children:[Object(j.jsxs)(Z.a,{container:!0,spacing:2,children:[Object(j.jsx)(Z.a,{item:!0,xs:12,children:Object(j.jsx)(R.a,{onChange:function(e){return u(e.target.value)},required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"})}),Object(j.jsx)(Z.a,{item:!0,xs:12,children:Object(j.jsx)(R.a,{onChange:function(e){return p(e.target.value)},required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password"})})]}),Object(j.jsx)(z.a,{disabled:n,type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign Up"}),Object(j.jsx)(Z.a,{container:!0,justifyContent:"flex-end",children:Object(j.jsx)(Z.a,{item:!0,children:Object(j.jsx)(V.a,{onClick:g,variant:"body2",children:"Already have an account? Sign in"})})})]})]}),Object(j.jsx)(_,{sx:{mt:5}})]})}var ee=n(266),te=n(267),ne=n(268),ae=n(137),ce=n.n(ae),re=n(256),oe=n(138);function ie(){var e=a.useState(null),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(a.useContext)(d).logout,o=function(){c(null)};return Object(j.jsx)(K.a,{sx:{flexGrow:1},children:Object(j.jsx)(ee.a,{position:"fixed",children:Object(j.jsxs)(te.a,{children:[Object(j.jsx)(J.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:Object(j.jsx)(p.b,{style:{color:"white",textDecoration:"none"},to:"/",children:"CloudAuth"})}),Object(j.jsxs)("div",{children:[Object(j.jsx)(ne.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){c(e.currentTarget)},color:"inherit",children:Object(j.jsx)(ce.a,{})}),Object(j.jsxs)(oe.a,{id:"menu-appbar",anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(n),onClose:o,children:[Object(j.jsx)(p.b,{to:"/",children:Object(j.jsx)(re.a,{onClick:o,children:"Profile"})}),Object(j.jsx)(p.b,{to:"/about",children:Object(j.jsx)(re.a,{onClick:o,children:"About"})}),Object(j.jsx)(re.a,{onClick:r,children:"LogOut"})]})]})]})})})}var se=function(){var e=Object(a.useContext)(d).authReady;return Object(j.jsx)("div",{children:Object(j.jsxs)(p.a,{children:[e&&Object(j.jsx)(ie,{className:"umar"}),Object(j.jsxs)(f.c,{children:[Object(j.jsx)(f.a,{exact:!0,path:"/",component:e?B:Q}),Object(j.jsx)(f.a,{path:"/about",component:e?H:Q})]})]})})};var le=function(){var e=Object(a.useContext)(d).authReady;return Object(j.jsx)(j.Fragment,{children:null===e?Object(j.jsx)(O,{}):Object(j.jsx)(se,{})})},je=(n(182),n(139)),de=n(258),ue=Object(je.a)({palette:{primary:{main:"#311b92"},secondary:{main:"#673ab7"}}});o.a.render(Object(j.jsx)(u,{children:Object(j.jsx)(de.a,{theme:ue,children:Object(j.jsx)(le,{})})}),document.getElementById("root"))}},[[184,1,2]]]);
//# sourceMappingURL=main.53469b66.chunk.js.map